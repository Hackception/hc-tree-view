<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-list/iron-list.html">
<link rel="import" href="hc-nested-list-behavior.html">

<!--
`hc-nested-list` an optimized way to render a list of "nested" items as a flat data structure,
built on top of `iron-list` for performance.

### Styling
Custom property | Description | Default
----------------|-------------|----------
`--hc-nested-list` | A mixin for styling this element | {}
`--hc-nested-list-loader` | A mixin for styling the loader wrapping element | {}
`--hc-nested-list-items` | A mixin for styling the iron-list within this element | {}

@demo demo/hc-nested-list.html
-->
<dom-module id="hc-nested-list">
  <template>
    <style>
      :host {
        display: block;
        padding-top: 8px;
        padding-bottom: 8px;
        min-height: 250px;
        display: flex;
        flex-direction: column;

        @apply --hc-nested-list;
      }
      #loader {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        z-index: 999;

        @apply --hc-nested-list-loader;
      }
      #list {
        flex: 1 1 auto;
        @apply --hc-nested-list-items;
      }
    </style>

    <!-- TODO: this being inside of iron-list is breaking it, need to figure out a
    different way to render this instead -->
    <div id="loader" hidden$="[[!isLoading]]">
      <slot name="loader"></slot>
    </div>
    <iron-list
      id="list"
      items="[[_items]]"
      as="item">
      <slot></slot>
    </iron-list>
  </template>

  <script>
    Polymer({
      /* global hc */
      is: 'hc-nested-list',
      behaviors: [hc.NestedListBehavior],
    });
  </script>
</dom-module>
